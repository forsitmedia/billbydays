<head>
  <meta charset="UTF-8" />
  <title>Bill by Days ¬∑ Fair Roommate Bills</title>
  <meta name="description" content="Split utility bills like electricity, water and gas consumption fairly, based on each roommate‚Äôs presence days. Simple, accurate, transparent bill splitting for shared homes.
  You were not at home, then you shouldn 't pay for that day." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Canonical: consolidate homepage on "/" -->
  <link rel="canonical" href="https://billbydays.com/">

  <!-- Favicons (Google uses PNG/ICO) -->
  <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48.png?v=1">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png?v=1">
  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=1">

  <!-- Apple / iOS icon (you already have favicon-180.png) -->
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon-180.png?v=1">

  <!-- Android / PWA manifest -->
  <link rel="manifest" href="/site.webmanifest?v=1">
  <meta name="theme-color" content="#3b82f6">

  <!-- Fonts (same pattern as your other site, optional but nice) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --green: #22c55e;
      --green-dark: #16a34a;
      --border: #e5e7eb;
      --bg: #f4f5f7;
      --text-main: #111827;
      --text-muted: #6b7280;
      --card-bg: #ffffff;
      --radius: 20px;
      --shadow: 0 8px 22px rgba(0,0,0,0.06);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
    }

    body {
  background: var(--bg);
  /* more top padding so header sits well below Dynamic Island */
  padding: calc(25px + env(safe-area-inset-top, 0px)) 20px calc(20px + env(safe-area-inset-bottom, 0px));
  display: flex;
  justify-content: center;
  min-height: 100vh;
}


    .app {
      width: 100%;
      max-width: 520px;
    }

    header {
      margin-bottom: 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .title-block {
      display: flex;
      flex-direction: column;
    }

    .title {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-main);
    }

    .subtitle {
      font-size: 14px;
      color: var(--text-muted);
    }

    /* Free / Pro switch */
    .mode-switch {
      background: #eef1f5;
      padding: 6px 14px;
      border-radius: 16px;
      font-size: 12px;
      font-weight: 600;
      color: #374151;
      cursor: pointer;
      border: 1px solid #d1d5db;
      white-space: nowrap;
    }

    /* ============ MODE SWITCH CTA (Free) / EXIT (Pro) ============ */
.mode-switch {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  user-select: none;
}

/* Free: looks like a "Try Pro" CTA */
.mode-switch.try-pro {
  background: linear-gradient(135deg, #4f46e5, #0e1541);
  color: #ffffff;
  border: none;
  box-shadow: 0 10px 22px rgba(0,0,0,0.12);
}

/* Pro: looks like "Back to Free" */
.mode-switch.back-free {
  background: #1e1b4b;
  border: 1px solid #6366f1;
  color: #e5e7eb;
}

/* Little icons without changing your HTML */
.mode-switch.try-pro::before { content: "‚ú®"; }
.mode-switch.back-free::before { content: "‚Üê"; }

/* ============ FREE MODE LOCKED EXPENSE VISUALS ============ */
.expense-item.locked {
  opacity: 0.45;
  transform: none !important;
}

.expense-item.locked::after {
  content: "üîí Pro";
  position: absolute;
  top: 8px;
  left: 8px;
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(17, 24, 39, 0.82);
  color: #fff;
}

    /* Cards */
    .card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-bottom: 22px;
    }

    .label {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-main);
    }

    .sub {
      color: var(--text-muted);
      font-size: 13px;
      margin-bottom: 10px;
    }


    /* Expense icons */
    .expense-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 14px;
      margin-top: 18px;
    }



    /* Total summary row under the expense icons */
.total-row {
  margin-top: 16px;
  padding: 10px 14px;
  border-radius: 14px;
  background: #f3f4f6;
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.total-label {
  font-size: 13px;
  color: var(--text-muted);
}

.total-right {
  display: flex;
  align-items: center;
  gap: 8px;
}

.total-value {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-main);
}



    .expense-item {
      position: relative;   /* add this line */
      background: #f6f7f9;
      border: 1px solid #e2e5e9;
      padding: 10px;
      border-radius: 16px;
      text-align: center;
      cursor: pointer;
      transition: 0.15s ease;
    }

    .expense-item:hover {
      transform: translateY(-3px);
    }
/* ============ FIXED PART "CALCULATING" OVERLAY (IN-CARD) ============ */

/* Utility colors (tweak if you want) */
.expense-item[data-type="electricity"] { --util: #f7c948; } /* yellow */
.expense-item[data-type="water"]       { --util: #4aa3ff; } /* blue */
.expense-item[data-type="gas"]         { --util: #a9a9a9; } /* grey */
.expense-item[data-type="other"]       { --util: #7a7a7a; } /* neutral */

.expense-item {
  position: relative; /* needed for overlay */
}

/* ============ FIXED PART CALCULATING OVERLAY ============ */

/* Utility colors */
.expense-item[data-type="electricity"] { --util: #f7c948; }
.expense-item[data-type="water"]       { --util: #4aa3ff; }
.expense-item[data-type="gas"]         { --util: #9ca3af; }
.expense-item[data-type="other"]       { --util: #9ca3af; }

.expense-item {
  position: relative;
}

/* Full in-card overlay */
.expense-item .fixed-badge {
  position: absolute;
  inset: 0;
  border-radius: 16px;

  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 12px;

  background: rgba(246, 247, 249, 0.92);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  z-index: 10;
}

/* Show overlay */
.expense-item.calculating .fixed-badge {
  display: flex;
}

/* Spinner */
.fixed-spinner {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 3px solid rgba(0,0,0,0.15);
  border-top-color: var(--util);
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Calculating text */
.expense-item .fixed-badge .calc-text {
  font-size: 13px;
  font-weight: 600;
  color: #111827;
}

/* Hide ALL card content while calculating */
.expense-item.calculating > *:not(.fixed-badge) {
  visibility: hidden;
}

/* ============ DISABLED CONTINUE BUTTON ============ */
.btn.is-disabled {
  opacity: 0.55;
  cursor: not-allowed;
  pointer-events: none;
}


    .exp-icon {
      font-size: 24px;
    }

    .exp-name {
      margin-top: 4px;
      font-size: 12px;
      font-weight: 600;
      color: #374151;
    }

    .exp-amount {
      font-size: 11px;
      color: var(--green-dark);
      font-weight: 600;
    }

    /* Bill period */
    .date-box {
      background: #f3f4f6;
      border-radius: 14px;
      border: 1px solid var(--border);
      padding: 12px 14px;
      display: flex;
      flex-direction: column;
      gap: 2px;
      cursor: pointer;
    }

    .date-main {
      font-size: 15px;
      color: var(--text-main);
    }

    .date-sub {
      font-size: 12px;
      color: var(--text-muted);
    }

        /* Per-expense period rows */
    .per-exp-list {
      margin-top: 10px;
      display: none;         /* hidden when 0 or 1 expense */
      border-top: 1px solid #e5e7eb;
      padding-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .per-exp-row {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: #4b5563;
    }

    .per-exp-icon {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .per-exp-text-main {
      font-weight: 600;
    }

    .per-exp-text-sub {
      font-size: 11px;
      color: #9ca3af;
    }


    /* Roommates */
    .rm-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
    }

    .rm-card {
      width: 140px;
      height: 80px;
      background: #f9fafb;
      border: 1px solid var(--border);
      border-radius: 14px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-weight: 600;
      cursor: pointer;
      position: relative;
    }

    .add-rm {
      background: #f3f4f6;
      border-style: dashed;
      color: var(--green);
    }

    .rm-delete {
      position: absolute;
      top: 6px;
      right: 6px;
      background: #ef4444;
      color: white;
      width: 20px;
      height: 20px;
      font-size: 13px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    /* Continue button */
    .btn {
      width: 100%;
      padding: 15px;
      background: var(--green);
      color: white;
      border-radius: 14px;
      text-align: center;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 14px;
    }

    /* Expense modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.45);
backdrop-filter: blur(8px);
-webkit-backdrop-filter: blur(8px);

      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }

    .modal {
      width: 90%;
      max-width: 360px;
      background: white;
      padding: 20px;
      border-radius: 18px;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 12px;
    }

    .modal-field {
      margin-bottom: 16px;
    }

    .modal-field label {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-muted);
    }

    .modal-field input {
      width: 100%;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid #d1d5db;
      margin-top: 6px;
    }

    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
    }

    .modal-btn {
      padding: 10px 16px;
      border-radius: 12px;
      font-weight: 600;
      border: none;
      cursor: pointer;
    }

    .cancel { background: #e5e7eb; }
    .save { background: var(--green); color: white; }

    /* Upgrade toast */
    .upgrade-popup {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #1f2937;
      color: white;
      padding: 10px 16px;
      border-radius: 12px;
      display: none;
      font-size: 14px;
      z-index: 3000;
    }

    /* Calendar overlay */
    .calendar-overlay {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.35);
backdrop-filter: blur(8px);
-webkit-backdrop-filter: blur(8px);

      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1500;
    }

    .calendar-modal {
      background: white;
      border-radius: 18px;
      width: 90%;
      max-width: 380px;
      padding: 16px 18px 20px;
      border: 1px solid var(--border);
      box-shadow: 0 20px 40px rgba(0,0,0,0.14);
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .icon-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: #f3f4f6;
      cursor: pointer;
      display: inline-flex;
      justify-content: center;
      align-items: center;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      margin-top: 8px;
    }

    .calendar-day-name {
      text-align: center;
      font-size: 12px;
      color: var(--text-muted);
    }

    .calendar-day {
      text-align: center;
      padding: 7px 0;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
    }

    .calendar-day.in-range {
      background: #dcfce7;
    }
    .calendar-day.start,
    .calendar-day.end {
      background: var(--green);
      color: white;
      font-weight: 600;
    }





    .reset-btn {
  margin-left: 6px;
  border: none;
  background: transparent;
  font-size: 18px;
  cursor: pointer;
  color: #9ca3af;
}
.reset-btn:hover {
  color: #4b5563;
}





.exp-reset {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 18px;
  height: 18px;
  background: white;
  border: 1px solid #d1d5db;
  color: #6b7280;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 12px;
  cursor: pointer;
  z-index: 10;
}


.title-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.app-logo {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  object-fit: cover;
}


/* ============ PRO MODE THEME ============ */

body.pro-mode {
  background: radial-gradient(circle at top, #4f46e5 0, #020617 55%);
}

/* Cards + general text */
body.pro-mode .card {
  background: #020617;
  border: 1px solid #111827;
  box-shadow: 0 18px 40px rgba(0,0,0,0.6);
}

body.pro-mode .title {
  color: #e5e7eb;
}

body.pro-mode .subtitle {
  color: #a5b4fc;
}

body.pro-mode .label {
  color: #e5e7eb;
}

body.pro-mode .sub {
  color: #9ca3af;
}

/* Inputs & date box */
body.pro-mode .input-box,
body.pro-mode .date-box {
  background: #020617;
  border-color: #1f2937;
}

body.pro-mode .input-box span,
body.pro-mode .input-box input {
  color: #e5e7eb;
}

body.pro-mode #dateRangeMain {
  color: #e5e7eb;
}

body.pro-mode #dateRangeSub {
  color: #9ca3af;
}

/* Placeholders */
body.pro-mode input::placeholder {
  color: #6b7280;
}

/* Expense chips */
body.pro-mode .expense-item {
  background: #020617;
  border-color: #1f2937;
  box-shadow: 0 10px 25px rgba(0,0,0,0.4);
}

body.pro-mode .exp-name {
  color: #e5e7eb;
}

body.pro-mode .exp-amount {
  color: #a5b4fc;
}

/* Little reset "x" in dark mode */
body.pro-mode .exp-reset {
  background: #020617;
  border-color: #4b5563;
  color: #9ca3af;
}

/* Roommates */
body.pro-mode .rm-card {
  background: #020617;
  border-color: #1f2937;
  color: #e5e7eb;
}

body.pro-mode .add-rm {
  background: #020617;
  border-style: dashed;
  border-color: #4f46e5;
  color: #a5b4fc;
}

/* Switch pill */
body.pro-mode .mode-switch {
  background: #1e1b4b;
  border-color: #6366f1;
  color: #e5e7eb;
}

body.pro-mode .total-row {
  background: #020617;
  border-color: #1f2937;
}

body.pro-mode .total-label {
  color: #9ca3af;
}

body.pro-mode .total-value {
  color: #e5e7eb;
}


/* Continue button stays bright green ‚Üí stands out */





    .label-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .small-link-btn {
      border: none;
      background: transparent;
      font-size: 11px;
      color: var(--green-dark);
      padding: 2px 6px;
      border-radius: 999px;
      cursor: pointer;
    }

    .small-link-btn:hover {
      background: rgba(34, 197, 94, 0.08);
    }

    /* Per-expense period rows under Bill period */
    .per-exp-list {
      margin-top: 10px;
      border-top: 1px solid var(--border);
      padding-top: 10px;
      display: none;               /* shown only if 2+ expenses active */
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .per-exp-row {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: #4b5563;
      cursor: pointer;
    }

    .per-exp-icon {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .per-exp-text-main {
      font-weight: 600;
    }

    .per-exp-text-sub {
      font-size: 11px;
      color: #9ca3af;
    }

    .calendar-copy-main {
      font-size: 11px;
      color: #374151;
      background: #e5e7eb;
      padding: 4px 10px;
      border-radius: 999px;
      margin: 8px auto 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .calendar-copy-main:hover {
      background: #d1d5db;
    }


    .date-row {
      margin-top: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .date-row .date-box {
      flex: 1;
    }


.install-app-btn {
  width: 100%;
  margin-top: 20px;
  padding: 14px 18px;          /* more space inside */
  box-sizing: border-box;      /* padding counted inside width */

  border-radius: 14px;
  border: none;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: nowrap;

  background: #0f172a;
  color: #ffffff;
  font-weight: 600;
  font-size: 15px;

  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
}


.install-app-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  overflow: hidden;
  background: #1e293b;
  display: flex;
  align-items: center;
  justify-content: center;
}

.install-app-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}



.install-section {
  margin-top: 20px;
}

.classic-link {
  margin-top: 10px;
  font-size: 12px;
  color: #9ca3af;
  text-align: center;
  line-height: 1.4;
}

.classic-link a {
  color: #a5b4fc;
  text-decoration: underline;
}

.app-footer {
  margin-top: 28px;
  padding: 12px 0 4px;
  text-align: center;
  font-size: 11px;
  color: #6b7280;
  opacity: 0.7;
}


.modal input,
.modal textarea,
.modal select {
  font-size: 16px;
}

.install-hint {
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  font-size: 13px;
  line-height: 1.5;
  background: #f9fafb;
  color: #111827;
  border: 1px solid #e5e7eb;
}

.install-hint strong {
  font-weight: 600;
}

.share-icon-inline {
  width: 18px;
  height: 18px;
  vertical-align: middle;
  margin: 0 2px;
}

/* Dark / Pro mode: keep it visible */
body.pro-mode .install-hint {
  background: #020617;
  border-color: #4b5563;
  color: #e5e7eb;
}

body.pro-mode .install-hint strong {
  color: #e5e7eb;
}

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .modal-help-btn {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: #f3f4f6;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #4b5563;
    }

    .modal-help-btn:hover {
      background: #e5e7eb;
    }

    .help-overlay {
  position: fixed;
  inset: 0;
  /* semi-transparent dark + blur */
  background: rgba(15, 23, 42, 0.35);
  backdrop-filter: blur(6px);      /* <- this makes it blurred */
  display: none;                   /* stays hidden by default */
  justify-content: center;
  align-items: center;
  z-index: 2100;
}


    .help-modal {
      background: #ffffff;
      border-radius: 18px;
      width: 92%;
      max-width: 420px;
      max-height: 80vh;
      overflow-y: auto;
      border: 1px solid var(--border);
      box-shadow: 0 22px 44px rgba(0, 0, 0, 0.18);
      padding: 16px 18px 18px;
    }

    .help-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .help-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-main);
    }

    .help-body {
      font-size: 13px;
      color: var(--text-main);
    }

    .help-intro {
      margin-bottom: 10px;
    }

    .help-step h4 {
      font-size: 14px;
      margin: 10px 0 4px;
      font-weight: 600;
    }

    .help-step p {
      margin: 0 0 6px;
      line-height: 1.4;
    }

    .help-body img {
      width: 100%;
      border-radius: 12px;
      margin: 6px 0 14px;
      border: 1px solid #e5e7eb;
    }

    .help-footnote {
      margin-top: 4px;
      font-size: 12px;
      color: var(--text-muted);
    }

    /* ... inside <style> ... */

.fixed-details-list {
  margin-top: 8px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 8px 10px;
  font-size: 11px;
  color: #4b5563;
}

.fixed-item-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 6px;
  align-items: flex-start;
}

.fixed-item-label {
  flex: 1 1 auto;
  min-width: 0;
  line-height: 1.15;
}

.fixed-item-right {
  flex: 0 0 110px;          /* ‚úÖ keeps a consistent right column width */
  text-align: right;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  white-space: nowrap;
  line-height: 1.05;
}

.fixed-item-amt {
  font-weight: 600;
  color: #111827;
}

.fixed-item-vat {
  font-size: 9px;
  opacity: 0.6;
  margin-top: 2px;
  line-height: 1.05;
}


.fixed-items-note {
  margin-top: 6px;
  font-size: 9px;
  opacity: 0.6;
}


/* Dark mode support */
body.pro-mode .fixed-item-amt {
  color: #e5e7eb;
}

/* ============ FULL PAGE LOADING (simple squares + staged copy) ============ */

/* default theme values (we‚Äôll override from JS) */
:root{
  --load-bg: #ffffff;
  --load-fg: #111827;
  --load-accent: #b04cff; /* purple */
  --load-muted: rgba(17,24,39,0.55);
}

.loading-overlay{
  position: fixed;
  inset: 0;
  background: var(--load-bg);
  color: var(--load-fg);
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 18px;
  z-index: 5000;
  padding: 28px 18px;
  text-align: center;
}

.loading-overlay.show{
  display: flex;
}

body.is-loading{
  overflow: hidden;
}

.loading-squares{
  position: relative;
  width: 170px;
  height: 60px;
}

.sq-row{
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
}

.sq{
  width: 18px;
  height: 18px;
  background: var(--load-accent);
  border-radius: 2px;
  opacity: 0.9;
  animation: sqPulse 1s infinite ease-in-out;
}

.sq-row .sq:nth-child(2){ animation-delay: .12s; }
.sq-row .sq:nth-child(3){ animation-delay: .24s; }
.sq-row .sq:nth-child(4){ animation-delay: .36s; }
.sq-row .sq:nth-child(5){ animation-delay: .48s; }

@keyframes sqPulse{
  0%, 100% { transform: translateY(0); opacity: 0.7; }
  50%      { transform: translateY(-4px); opacity: 1; }
}

/* tilted flying square like your screenshot */
.sq-fly{
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--load-accent);
  border-radius: 2px;
  left: calc(50% - 72px);
  bottom: 18px;
  transform: rotate(18deg);
  animation: flySq 1s infinite ease-in-out;
  opacity: 0.95;
}

@keyframes flySq{
  0%   { transform: translate(0,0) rotate(18deg); opacity: 0.4; }
  35%  { transform: translate(18px,-10px) rotate(25deg); opacity: 1; }
  70%  { transform: translate(58px,0px) rotate(18deg); opacity: 0.9; }
  100% { transform: translate(0,0) rotate(18deg); opacity: 0.4; }
}

.loading-copy{
  width: 100%;
  max-width: 420px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.loading-title{
  font-size: 16px;
  font-weight: 700;
}

.loading-step{
  font-size: 14px;
  font-weight: 600;
}

.loading-progress-wrap{
  width: 100%;
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
}

.loading-progress-track{
  width: 100%;
  height: 10px;
  border-radius: 999px;
  background: rgba(0,0,0,0.08);
  overflow: hidden;
}

.loading-progress-bar{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: var(--load-accent);
  transition: width 350ms ease;
}

.loading-eta{
  font-size: 12px;
  color: var(--load-muted);
  font-weight: 600;
}

.loading-hint{
  margin-top: 4px;
  font-size: 12px;
  color: var(--load-muted);
  line-height: 1.35;
  max-width: 380px;
}

/* ===========================
   BILL UPLOAD (pretty widget)
=========================== */

.bill-upload { margin: 10px 0 6px; }

.bill-upload-input {
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}

.upload-zone{
  width: 100%;
  display: flex;
  align-items: center;
  gap: 14px;

  padding: 12px 14px;
  border-radius: 18px;
  border: 1.5px solid #e5e7eb;
  background: #f9fafb;

  cursor: pointer;
  user-select: none;
  transition: 0.18s ease;
}

.upload-zone:hover{
  transform: translateY(-1px);
  border-color: rgba(34,197,94,0.7);
  box-shadow: 0 10px 20px rgba(0,0,0,0.06);
}

.upload-hero{
  width: 118px;
  height: 118px;
  border-radius: 999px;
  border: 2px dashed #e5e7eb;
  background: #ffffff;

  display: flex;
  align-items: center;
  justify-content: center;

  position: relative;
  flex: 0 0 auto;
}

.upload-doc{
  width: 64px;
  height: 64px;
  color: #9ca3af; /* icon grey */
  opacity: 0.9;
}
.upload-doc svg{ width: 100%; height: 100%; }

.upload-plus{
  position: absolute;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);

  width: 44px;
  height: 44px;
  border-radius: 999px;

  background: var(--green);
  display: flex;
  align-items: center;
  justify-content: center;

  border: 4px solid #ffffff;
  box-shadow: 0 10px 16px rgba(34,197,94,0.25);
}

.upload-copy{
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.upload-title{
  font-weight: 700;
  color: var(--text-main);
  font-size: 14px;
}

.upload-sub{
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.2;
}

.upload-file{
  margin-top: 4px;
  font-size: 12px;
  font-weight: 600;
  color: #374151;
  background: #eef2f7;
  border: 1px solid #e5e7eb;
  padding: 6px 10px;
  border-radius: 999px;
  width: fit-content;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Pro mode (dark) */
body.pro-mode .upload-zone{
  background: #020617;
  border-color: #1f2937;
}

body.pro-mode .upload-hero{
  background: #020617;
  border-color: rgba(148,163,184,0.35);
}

body.pro-mode .upload-title{ color: #e5e7eb; }
body.pro-mode .upload-sub{ color: #9ca3af; }
body.pro-mode .upload-doc{ color: #94a3b8; }

body.pro-mode .upload-file{
  background: #0b1224;
  border-color: #1f2937;
  color: #e5e7eb;
}

body.pro-mode .upload-plus{
  border-color: #020617;
}


body.pro-mode .loading-fact{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.10);
}


  /* ===========================
   LOADING FACTS (bottom, 1 at a time)
=========================== */

.loading-facts{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 30px;              /* closer to bottom */
  padding: 0 18px;
  display: flex;
  justify-content: center;
  pointer-events: none;
}

.loading-fact{
  max-width: 520px;
  text-align: center;
  font-size: 15px;
  line-height: 1.35;
  font-weight: 400;          /* normal (not bold) */
  color: var(--load-fg);     /* black on light, white on dark */
  opacity: 0.82;

  background: transparent;   /* NO grey box */
  border: 0;
  padding: 0;
  margin: 0;

  transition: opacity 450ms ease, transform 450ms ease;
}

.loading-fact.is-hidden{
  opacity: 0;
  transform: translateY(6px);
}

@media (max-width: 420px){
  .loading-copy{ max-width: 340px; }
  .loading-title{ font-size: 16px; }
  .loading-step{ font-size: 14px; }
  .loading-eta{ font-size: 12px; }
  .loading-hint{ font-size: 12px; max-width: 320px; }

  .loading-fact{ font-size: 14px; }
}


/* ===========================
   PRO MODE: MODALS + CALENDAR (match the dark theme)
   (Safe: only applies when <body> has class="pro-mode")
=========================== */

/* --- Expense modal --- */
body.pro-mode .modal{
  background: #020617;
  border: 1px solid #111827;
  box-shadow: 0 22px 44px rgba(0,0,0,0.65);
  color: #e5e7eb;
}

body.pro-mode .modal-title{
  color: #e5e7eb;
}

body.pro-mode .modal-field label{
  color: #9ca3af;
}

body.pro-mode .modal-field input{
  background: #0b1224;
  border-color: #1f2937;
  color: #e5e7eb;
}

body.pro-mode .modal-btn.cancel{
  background: #111827;
  color: #e5e7eb;
  border: 1px solid #374151;
}

body.pro-mode .modal-btn.cancel:hover{
  background: #0b1224;
}

/* --- Fixed breakdown box inside the modal --- */
/* Strong selector so it wins even if other rules exist */
body.pro-mode #fixedDetails.fixed-details-list{
  background: #111827;
  border-color: #374151;
  color: #9ca3af;
}

/* Works with BOTH versions:
   - old: .fixed-item-row span:last-child
   - new: .fixed-item-amt
*/
body.pro-mode .fixed-item-row span:last-child,
body.pro-mode .fixed-item-amt{
  color: #e5e7eb;
}

/* Make IVA/VAT line + disclaimer smaller (if those classes exist) */
.fixed-item-vat{
  font-size: 9px;
  opacity: 0.6;
}
.fixed-items-note{
  font-size: 9px;
  opacity: 0.6;
}

/* --- Calendar modal --- */
body.pro-mode .calendar-modal{
  background: #020617;
  border-color: #111827;
  box-shadow: 0 22px 44px rgba(0,0,0,0.65);
}

body.pro-mode #calendarMonthLabel{
  color: #e5e7eb;
  font-weight: 600;
}

body.pro-mode .calendar-day-name{
  color: #9ca3af;
}

body.pro-mode .calendar-day{
  color: #e5e7eb;
}

body.pro-mode .calendar-day:hover{
  background: rgba(148,163,184,0.10);
}

body.pro-mode .calendar-day.in-range{
  background: rgba(34,197,94,0.14);
}

/* month nav buttons */
body.pro-mode .icon-btn{
  background: #111827;
  border-color: #374151;
  color: #e5e7eb;
}
body.pro-mode .icon-btn:hover{
  background: #0b1224;
}

/* "Copy main period" chip */
body.pro-mode .calendar-copy-main{
  background: #111827;
  color: #e5e7eb;
  border: 1px solid #374151;
}
body.pro-mode .calendar-copy-main:hover{
  background: #0b1224;
}




  </style>
</head>

<body>
  <div class="app">
    <header>
  <div class="title-left">
    <img src="logo.png" class="app-logo" alt="Bill by Days logo" />
    <div class="title-block">
      <div class="title">Bill by Days</div>
      <div class="subtitle">Step 1 ¬∑ Add your bill</div>
    </div>
  </div>

  <div id="modeSwitch" class="mode-switch">Free mode</div>
</header>


<!-- FULL PAGE LOADING OVERLAY -->
<div id="loadingOverlay" class="loading-overlay" aria-hidden="true">
  <div class="loading-squares" aria-hidden="true">
    <div class="sq-row">
      <span class="sq"></span>
      <span class="sq"></span>
      <span class="sq"></span>
      <span class="sq"></span>
      <span class="sq"></span>
    </div>
    <span class="sq-fly"></span>
  </div>

  <div class="loading-copy">
    <div id="loadingTitle" class="loading-title">Analyzing your bill</div>

    <div id="loadingStep" class="loading-step">
      Detecting text from your bill‚Ä¶
    </div>

    <div class="loading-progress-wrap">
      <div class="loading-progress-track">
        <div id="loadingProgress" class="loading-progress-bar"></div>
      </div>
      <div id="loadingEta" class="loading-eta">This might take ~25 seconds</div>
    </div>

    <div id="loadingHint" class="loading-hint">
      Tip: We remove personal details before sending text to AI.
    </div>
    <div id="loadingFacts" class="loading-facts" aria-live="polite"></div>

  </div>
</div>




       <!-- TOTAL + EXPENSES -->
    <section class="card">
      <div class="label">Digit  Bill Amount</div>
      <div class="sub">
  Upload a bill (PDF or photo) to auto-fill total, period and fixed part.
</div>

<!-- BILL UPLOAD (custom UI) -->
<div class="bill-upload">
  <!-- Keep the SAME id="billUpload" so your JS keeps working -->
  <input
    id="billUpload"
    class="bill-upload-input"
    type="file"
    accept="application/pdf,image/*"
    multiple
  />

  <!-- This label becomes the ‚Äúupload widget‚Äù -->
  <label for="billUpload" class="upload-zone" id="uploadZone">
    <div class="upload-hero" aria-hidden="true">
      <div class="upload-doc">
        <!-- simple ‚Äúdocument stack‚Äù icon (SVG) -->
        <svg viewBox="0 0 64 64" fill="none">
          <path d="M14 18c0-3 2-5 5-5h18c3 0 5 2 5 5v26c0 3-2 5-5 5H19c-3 0-5-2-5-5V18Z" opacity="0.35" fill="currentColor"/>
          <path d="M22 12c0-3 2-5 5-5h18c3 0 5 2 5 5v28c0 3-2 5-5 5H27c-3 0-5-2-5-5V12Z" opacity="0.20" fill="currentColor"/>
          <path d="M24 20c0-3 2-5 5-5h16c3 0 5 2 5 5v26c0 3-2 5-5 5H29c-3 0-5-2-5-5V20Z" fill="currentColor"/>
          <path d="M32 26h12" stroke="white" stroke-width="3" stroke-linecap="round" opacity="0.95"/>
          <path d="M32 33h12" stroke="white" stroke-width="3" stroke-linecap="round" opacity="0.95"/>
          <path d="M32 40h9" stroke="white" stroke-width="3" stroke-linecap="round" opacity="0.95"/>
        </svg>
      </div>

      <div class="upload-plus">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M12 5v14M5 12h14" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
        </svg>
      </div>
    </div>

    <div class="upload-copy">
      <div class="upload-title">Upload your bill</div>
      <div class="upload-sub" id="uploadSub">PDF recommended ¬∑ or one/multiple screenshots</div>
      <div class="upload-file" id="uploadFilename">No file selected</div>
    </div>
  </label>

  <div id="scanStatus" class="sub" style="display:none;"></div>
</div>


      <div id="totalSub" class="sub">
        In Free mode you can use only one expense. The total is still calculated from the expenses.
      </div>

      <!-- Expense icons first -->
      <div class="expense-grid" id="expenseGrid"></div>

      <!-- Total row summary -->
      <div class="total-row">
        <div class="total-left">
          <span class="total-label">Total</span>
        </div>
        <div class="total-right">
          <span id="billTotalDisplay" class="total-value">‚Ç¨ 0.00</span>
          <button id="resetBill" class="reset-btn">√ó</button>
        </div>
      </div>
    </section>

<!-- BILL PERIOD -->
<section class="card">
  <div class="label-row">
    <div class="label">Insert  Bill Period</div>
    <button id="applyToAllBtn" class="small-link-btn" style="display:none;">
      Apply to all
    </button>
  </div>
  <div class="sub">Tap to select start and end dates. </div>

  <!-- Row with date box + reset X -->
  <div class="date-row">
    <div id="dateRangeField" class="date-box">
      <div id="dateRangeMain" class="date-main">Select your dates</div>
      <div id="dateRangeSub" class="date-sub">Past dates allowed</div>
    </div>
    <button id="resetDates" class="reset-btn" type="button">√ó</button>
  </div>

  <!-- One row per expense with amount (Pro mode) -->
  <div id="perExpensePeriods" class="per-exp-list"></div>
</section>



    </section>

    <!-- ROOMMATES -->
    <section class="card">
      <div class="label">Add   Roommates</div>
      <div class="sub">Add everyone sharing this bill (including you)</div>

      <div id="rmGrid" class="rm-grid"></div>

      <div id="continueBtn" class="btn">Continue ‚Üí</div>
    </section>
<div class="install-section">
  <button id="installAppBtn" class="install-app-btn">
    <span class="install-app-icon">
      <img src="/android-chrome-192.png" alt="Bill by Days app icon">
    </span>
    <span class="install-app-text">Install Bill by Days</span>
  </button>
<p id="installHint" class="install-hint" style="display:none;">
  <strong>How to install Bill by Days on iPhone</strong><br>
  1Ô∏è‚É£ Tap the <strong> three dots (...) </strong> and/or reach the <strong>Share</strong> button 
  <img src="ios-share.png" alt="iPhone share icon" class="share-icon-inline">
  at the top or bottom of the screen.<br>
  2Ô∏è‚É£ Scroll down and tap <strong>Add to Home Screen</strong>.<br>
  3Ô∏è‚É£ Confirm the name <strong>Bill by Days</strong> and tap <strong>Add</strong>.
</p>


  <p class="classic-link">
    Curious to see Prototype 0 (built in 24 hours)?<br>
    <a href="/classic/index 2.html" target="_blank" rel="noopener">
      Open the first version here
    </a>
  </p>
</div>

<footer class="app-footer">
  <p>Bill by Days ¬∑ mobile preview ¬∑ Made for roommates who enjoy paying fair bills.</p>
</footer>
  

   <!-- EXPENSE MODAL (PRO) -->
 <div id="expModal" class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <div id="modalTitle" class="modal-title"></div>
      <button id="billHelpBtn" type="button" class="modal-help-btn">?</button>
    </div>

    <div class="modal-field">
      <label>Total amount (‚Ç¨)</label>
      <input id="expTotal" type="number" />
    </div>

    <div class="modal-field">
      <label>Fixed part (‚Ç¨) ¬∑ optional</label>
      <input id="expFixed" type="number" />
      
      <div id="fixedDetails" class="fixed-details-list" style="display:none;"></div>
    
    </div>

    <div class="modal-actions">
      <button id="cancelModal" class="modal-btn cancel">Cancel</button>
      <button id="saveModal" class="modal-btn save">Save</button>
    </div>
  </div>
</div>

  <!-- BILL HELP OVERLAY -->
  <div id="billHelpOverlay" class="help-overlay">
    <div class="help-modal">
      <div class="help-header">
        <div id="billHelpTitle" class="help-title">
          How to read your electricity bill
        </div>
        <button id="closeBillHelp" class="icon-btn" type="button">√ó</button>
      </div>

      <div class="help-body">
        <!-- INTRO GEN√âRICA -->
        <p class="help-intro">
          Use this quick guide to find the <strong>total amount</strong> and the optional
          <strong>fixed part</strong> on your <span id="billHelpType">electricity</span> bill.
        </p>

        <!-- ================== ELECTRICITY ================== -->
        <div id="electricityHelp" class="help-section">
          <!-- STEP 1 -->
          <div class="help-step">
            <h4>1. Check the bill period and the total</h4>
            <p>
              The green bar shows the <strong>bill period</strong>
              and the green circle shows the <strong>total to pay</strong> for this bill.
              That‚Äôs the number you put in <strong>‚ÄúTotal amount (‚Ç¨)‚Äù</strong>.
            </p>
            <img
              src="image index/home data.jpg"
              alt="Example bill with billing period and total highlighted"
            />
            <p>
              In this case, the bill period is from <strong>27/08/2025 to 26/06/2025</strong> and the total amount to input would be <strong>‚Ç¨ 129.86</strong>.
            </p>
            <br>
          </div>

          <!-- STEP 2 -->
          <div class="help-step">
            <h4>2. Separate variable vs fixed part</h4>
            <p>
              The yellow boxes show the <strong>variable part</strong> (what changes
              with how much you use ‚Äì kWh, m¬≥, etc.).  
              The red area at the bottom shows the <strong>fixed part</strong>
              (what stays the same independently of your consumption like taxes, fees and CAV in this example).
            </p>
            <img
              src="image index/back page data.jpg"
              alt="Example bill with fixed and variable parts highlighted"
            />
            <p>
              In this case, the important parts to input and remember are:
              The <strong>Total bill amount</strong>: <strong>‚Ç¨ 129.86</strong> <br>
              and the <strong>Fixed part</strong> (1)+(2)+(3): <strong>‚Ç¨ 38.01</strong>.
              <br><br>
              The variable part will be automatically calculated by Bill by Days once you input these two numbers. 
              In this case it would be <strong>‚Ç¨ 91.85</strong>, the yellow area.
            </p>
          </div>
        </div>

        <!-- ================== WATER ================== -->
        <div id="waterHelp" class="help-section" style="display:none;">
          <div class="help-step">
            <h4>1. Find the bill period and the total</h4>
            <p>
              On most water bills you‚Äôll see a line with the <strong>billing period</strong>
              (for example: 01/05/2025 ‚Äì 31/05/2025) and a big number that says
              <strong>‚ÄúTotal to pay‚Äù</strong> or similar.
              That total is what you put in <strong>‚ÄúTotal amount (‚Ç¨)‚Äù</strong>.
            </p>
          </div>

          <div class="help-step">
            <h4>2. Separate consumption from fixed fees</h4>
            <p>
              ‚Ä¢ <strong>Variable part</strong> ‚Äì usually called something like
              <em>‚Äúwater consumption‚Äù</em>, measured in <strong>m¬≥</strong>.
              This changes with how much water you use. <br>
              ‚Ä¢ <strong>Fixed part</strong> ‚Äì things like
              <em>‚Äúservice fee‚Äù, ‚Äúavailability fee‚Äù, ‚Äúmeter fee‚Äù</em> or similar.
              These stay the same even if you‚Äôre travelling and use almost no water.
            </p>
            <p>
              In Bill by Days you type:
              <br>‚Ä¢ the <strong>Total amount</strong> of the bill, and
              <br>‚Ä¢ the sum of all the <strong>fixed fees</strong> as the ‚ÄúFixed part (‚Ç¨)‚Äù.
              <br>The app will automatically treat the rest as the variable part.
            </p>
          </div>
        </div>

        <!-- ================== GAS ================== -->
        <div id="gasHelp" class="help-section" style="display:none;">
          <div class="help-step">
            <h4>1. Look for the billing period and total</h4>
            <p>
              Gas bills usually show a <strong>period</strong> (for example: 10/04/2025 ‚Äì 09/05/2025)
              and a <strong>total to pay</strong> or <strong>amount due</strong>.
              That total is what you put in <strong>‚ÄúTotal amount (‚Ç¨)‚Äù</strong>.
            </p>
          </div>

          <div class="help-step">
            <h4>2. Identify fixed charges vs consumption</h4>
            <p>
              ‚Ä¢ <strong>Variable part</strong> ‚Äì charges linked to
              <em>kWh</em> or <em>m¬≥ of gas</em> consumed, often called
              ‚Äúenergy‚Äù, ‚Äúconsumption‚Äù or ‚Äúusage‚Äù. <br>
              ‚Ä¢ <strong>Fixed part</strong> ‚Äì things like ‚Äúfixed term‚Äù, ‚Äúsupply fee‚Äù,
              ‚Äúnetwork access‚Äù, ‚Äúmeter rental‚Äù, taxes that don‚Äôt change with usage, etc.
            </p>
            <p>
              Add all those fixed charges together and type that as the
              <strong>‚ÄúFixed part (‚Ç¨)‚Äù</strong> in Bill by Days.
              The rest of the total will be treated as the variable part and split fairly
              across days and roommates.
            </p>
          </div>
        </div>

        <!-- FOOTNOTE GEN√âRICA -->
        <br>
        <p class="help-footnote">
          In Bill by Days you can type the full <strong>Total amount (‚Ç¨)</strong>, and ‚Äì if you want ‚Äì
          the <strong>Fixed part (‚Ç¨)</strong>. We automatically split the variable part
          across days and roommates for you.
        </p>
      </div>
    </div>
  </div>
  <!-- END BILL HELP OVERLAY -->



  <!-- Calendar overlay -->
  <!-- Calendar overlay -->
<div id="calendarOverlay" class="calendar-overlay">
  <div class="calendar-modal">
    <div id="calendarCopyMain" class="calendar-copy-main" style="display:none;">
      ‚è± Copy main period
    </div>
    <div class="calendar-header">
      <div id="calendarMonthLabel">Month Year</div>
      <div>
        <button id="prevMonthBtn" class="icon-btn">‚Äπ</button>
        <button id="nextMonthBtn" class="icon-btn">‚Ä∫</button>
      </div>
    </div>
    <div id="calendarGrid" class="calendar-grid"></div>
  </div>
</div>

  <!-- Upgrade toast -->
  <div id="upgradePopup" class="upgrade-popup">This is a Pro feature.</div>

  <script src="index.js"></script>
</body>
</html>
